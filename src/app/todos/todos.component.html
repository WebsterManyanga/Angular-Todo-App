<form
  class="mx-auto rounded -mt-8 bg-white px-4 py-2.5 sticky top-0 shadow-md z-10 w-fit md:w-1/3"
  (ngSubmit)="onFormSubmit(form)"
  #form="ngForm"
>
  <div>
    <h2 class="font-semibold text-md">New Todo</h2>
    <div class="mt-4 flex gap-3 pb-2 w-full">
      <input
        ngModel
        name="text"
        type="text"
        class="border border-gray-200 shadow-sm outline-none focus:outline-blue-300 outline-offset-0 md:w-2/3"
        placeholder="Type todo text here"
        required
        minlength="2"
        #todoTextField="ngModel"
      />
      <button
        type="submit"
        class="bg-gradient-to-r from-cyan-500 to-blue-500 text-white font-semibold p-1 rounded px-2 active:opacity-80 md:w-2/5 lg:w-1/5"
      >
        + Add
      </button>
    </div>
  </div>
  <div *ngIf="todoTextField.invalid && showValidationErrors" class="pt-2">
    <p class="text-red-600 text-xs" *ngIf="todoTextField.errors?.['required']">
      * Please enter the text of your todo
    </p>
    <p class="text-red-600 text-xs" *ngIf="todoTextField.errors?.['minlength']">
      * Text must be at least 2 characters
    </p>
  </div>
</form>

<section>
  <ul class="mx-6 flex flex-col mt-10">
    <app-todo-item
      *ngFor="let todo of todos"
      [todo]="todo"
      (todoClicked)="toggleCompleted(todo)"
      (editClicked)="editTodo(todo)"
      (deleteClicked)="deleteTodo(todo)"
    ></app-todo-item>
  </ul>
</section>
